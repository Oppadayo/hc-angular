<div>
  <div class="card bg-light mb-3">
    <div class="card-header">Adicionar Morador</div>
    <div class="card-body">
      <form #moradorForm="ngForm">
        <div class="form-group">
          <label for="nome">Nome: </label>
          <input type="text" class="form-control" name="nome" [(ngModel)]="morador.nome" required minlength="2" #nome="ngModel">
        </div>
        <div class="alert alert-danger" *ngIf="nome.invalid && (nome.dirty || nome.touched)">
          <div *ngIf="nome.errors.required">
            Nome é um campo obrigatório
          </div>
          <div *ngIf="nome.errors.required">
            Nome deve conter ao menos 2 caracteres
          </div>
        </div>


        <div class="form-group">
          <label for="cpf">CPF: </label>
          <input mask="000.000.000-99" type="text" class="form-control" name="cpf" [(ngModel)]="morador.cpf" required minlength="1" maxlength="20" #cpf="ngModel">
        </div>
        <div class="alert alert-danger" *ngIf="cpf.invalid && (cpf.dirty || cpf.touched)">
          <div *ngIf="cpf.errors.required">
            CPF é um campo obrigatório
          </div>
          <div *ngIf="cpf.errors.required">
            CPF deve ter o formato de 123.456.789-99
          </div>
        </div>

        <div class="form-group">
          <label for="telefone">Telefone: </label>
          <input mask="00000-0000" type="tel" class="form-control" name="telefone" [(ngModel)]="morador.telefone" maxlength="20" required #telefone="ngModel">
        </div>
        <div class="alert alert-danger" *ngIf="telefone.invalid && (telefone.dirty || telefone.touched)">
          <div *ngIf="telefone.errors.required">
            Telefone é um campo obrigatório
          </div>
          <div *ngIf="telefone.errors.required">
            Telefone deve ter o formato de 3333-3333 ou 9 9999-9999
          </div>
        </div>

        <div class="form-group">
          <label for="casa">Nº da Casa: </label>
          <input type="text" class="form-control" name="casa" [(ngModel)]="morador.nrCasa" required minlength="1" #casa="ngModel">
        </div>

        <div class="alert alert-danger" *ngIf="casa.invalid && (casa.dirty || casa.touched)">
          <div *ngIf="casa.errors.required">
            Nº da casa é um campo obrigatório
          </div>
        </div>

        <button type="submit" class="btn btn-success" role="button" (click)='create()' *ngIf="!morador.id else elseBlock" [disabled]="!moradorForm.form.valid">Salvar</button>

      <ng-template #elseBlock>
        <button type="submit" class="btn btn-success" role="button" (click)='update()' [disabled]="!moradorForm.form.valid">Atualizar</button>
      </ng-template>
      </form>
    </div>
  </div>
</div>
